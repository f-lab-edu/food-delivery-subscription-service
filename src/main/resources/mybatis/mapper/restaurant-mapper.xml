<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.flab.foodrun.domain.restaurant.dao.RestaurantMapper">

  <resultMap id="restaurantMap" type="com.flab.foodrun.domain.restaurant.Restaurant">
    <result column="owner_id" property="ownerId" jdbcType="VARCHAR" javaType="String"/>
  </resultMap>

  <insert id="insertRestaurant" useGeneratedKeys="true" keyProperty="id" parameterType="Restaurant">
    INSERT INTO user(owner_Id,
                     password,
                     name,
                     status,
                     created_at,
                     created_by)
    VALUES (#{ownerId},
            #{password},
            #{name},
            #{status},
            NOW(),
            #{createdBy})
  </insert>

  <select id="selectRestaurantByRestaurantId" resultType="com.flab.foodrun.domain.restaurant.Restaurant"
    resultMap="restaurantMap">
    SELECT id,
           owner_id,
           password,
           name,
           status
    FROM restaurant
    WHERE owner_id = #{ownerid};
  </select>
</mapper>



